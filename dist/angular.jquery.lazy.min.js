!function(window,angular,undefined){angular.module("angular.lazyimg",[]).directive("lazyImg",function(){return{restrict:"E",scope:!1,link:function(scope,element,attrs){var options={bind:"event",effect:"fadeIn",effectTime:1500,beforeLoad:function(){},onLoad:function(){},afterLoad:function(loadedElement){registerImage(loadedElement)},onError:function(loadedElement){lazyError(loadedElement)}};scope.lazyOptions!=undefined&&angular.extend(options,scope.lazyOptions);var attributes="";for(var prop in attrs)"$"!=prop.charAt(0)&&(attributes+="src"==prop?' data-src="'+attrs[prop]+'" ':" "+prop+'="'+attrs[prop]+'" ');var imageTag=$("<img "+attributes+" />");element.replaceWith(imageTag);var registerImage=function(loadedElement){scope.$emit("ImgLazyLoaded",loadedElement)},lazyError=function(loadedElement){scope.$emit("ImgNotLazyLoaded",[loadedElement,loadedElement.attr("data-src")])};imageTag.lazy(options)}}})}(window,window.angular);